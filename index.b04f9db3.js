function e(e,t,o,n){Object.defineProperty(e,t,{get:o,set:n,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},i=o.parcelRequired7c6;null==i&&((i=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var o={id:e,exports:{}};return n[e]=o,t.call(o.exports,o,o.exports),o.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){r[e]=t},o.parcelRequired7c6=i),i.register("kyEFX",(function(t,o){var n,r;e(t.exports,"register",(function(){return n}),(function(e){return n=e})),e(t.exports,"resolve",(function(){return r}),(function(e){return r=e}));var i={};n=function(e){for(var t=Object.keys(e),o=0;o<t.length;o++)i[t[o]]=e[t[o]]},r=function(e){var t=i[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),i.register("jQ7WT",(function(t,o){e(t.exports,"disableBodyScroll",(function(){return f})),e(t.exports,"clearAllBodyScrollLocks",(function(){return h})),e(t.exports,"enableBodyScroll",(function(){return y}));var n=!1;if("undefined"!=typeof window){var r={get passive(){n=!0}};window.addEventListener("testPassive",null,r),window.removeEventListener("testPassive",null,r)}var i="undefined"!=typeof window&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||"MacIntel"===window.navigator.platform&&window.navigator.maxTouchPoints>1),a=[],s=!1,l=-1,c=void 0,d=void 0,u=void 0,m=function(e){return a.some((function(t){return!(!t.options.allowTouchMove||!t.options.allowTouchMove(e))}))},g=function(e){var t=e||window.event;return!!m(t.target)||(t.touches.length>1||(t.preventDefault&&t.preventDefault(),!1))},p=function(){void 0!==u&&(document.body.style.paddingRight=u,u=void 0),void 0!==c&&(document.body.style.overflow=c,c=void 0)},v=function(){if(void 0!==d){var e=-parseInt(document.body.style.top,10),t=-parseInt(document.body.style.left,10);document.body.style.position=d.position,document.body.style.top=d.top,document.body.style.left=d.left,window.scrollTo(t,e),d=void 0}},f=function(e,t){if(e){if(!a.some((function(t){return t.targetElement===e}))){var o={targetElement:e,options:t||{}};a=[].concat(function(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}(a),[o]),i?window.requestAnimationFrame((function(){if(void 0===d){d={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left};var e=window,t=e.scrollY,o=e.scrollX,n=e.innerHeight;document.body.style.position="fixed",document.body.style.top=-t,document.body.style.left=-o,setTimeout((function(){return window.requestAnimationFrame((function(){var e=n-window.innerHeight;e&&t>=n&&(document.body.style.top=-(t+e))}))}),300)}})):function(e){if(void 0===u){var t=!!e&&!0===e.reserveScrollBarGap,o=window.innerWidth-document.documentElement.clientWidth;if(t&&o>0){var n=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right"),10);u=document.body.style.paddingRight,document.body.style.paddingRight=n+o+"px"}}void 0===c&&(c=document.body.style.overflow,document.body.style.overflow="hidden")}(t),i&&(e.ontouchstart=function(e){1===e.targetTouches.length&&(l=e.targetTouches[0].clientY)},e.ontouchmove=function(t){1===t.targetTouches.length&&function(e,t){var o=e.targetTouches[0].clientY-l;!m(e.target)&&(t&&0===t.scrollTop&&o>0||function(e){return!!e&&e.scrollHeight-e.scrollTop<=e.clientHeight}(t)&&o<0?g(e):e.stopPropagation())}(t,e)},s||(document.addEventListener("touchmove",g,n?{passive:!1}:void 0),s=!0))}}else console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.")},h=function(){i&&(a.forEach((function(e){e.targetElement.ontouchstart=null,e.targetElement.ontouchmove=null})),s&&(document.removeEventListener("touchmove",g,n?{passive:!1}:void 0),s=!1),l=-1),i?v():p(),a=[]},y=function(e){e?(a=a.filter((function(t){return t.targetElement!==e})),i&&(e.ontouchstart=null,e.ontouchmove=null,s&&0===a.length&&(document.removeEventListener("touchmove",g,n?{passive:!1}:void 0),s=!1)),i?v():p()):console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.")}})),i("kyEFX").register(JSON.parse('{"5ZPII":"index.b04f9db3.js","g9ud9":"save-the-children.172c62f8.png","eLWfi":"project-hope.f1d9d58f.png","4jKaw":"united24.4b45dab6.png","9Em6e":"razom.819acc7f.png","hAhNs":"action-against-hunger.f3054c5d.png","CKyTN":"word-vision.454487ac.png","bjC9v":"sergiy-prytula.6baa5469.png","lwTNu":"medecans-sans-frontieres.1fe64105.png","ivLfd":"save-the-children-2x.ba7778bc.png","b9kXz":"project-hope-2x.863b1963.png","3Zjjn":"united24-2x.4b45dab6.png","gqlkM":"razom-2x.819acc7f.png","jPGK3":"action-against-hunger-2x.f3054c5d.png","bbPFx":"word-vision-2x.454487ac.png","8o94G":"sergiy-prytula-2x.6baa5469.png","89mmy":"international-medical-corps-2x.79bc4b2d.png","7CWKt":"medecsns-sans-frontieres-2x.1fe64105.png","W29aZ":"image1@1x.06fa7713.png","haIWG":"image1@2x.08fa6ff3.png","ekMUd":"image2@1x.57ecc8dc.png","g0EyN":"image2@2x.c5385d25.png","3SFpC":"image3@1x.e5effbae.png","60fzs":"image3@2x.3b8922c8.png","8SaHN":"sprite.70757e6b.svg","a8cj2":"shopping-list.b6511762.js"}')),(()=>{const e=i("jQ7WT"),t=document.querySelector(".js-menu-container"),o=document.querySelector(".js-open-menu"),n=document.querySelector(".js-close-menu"),r=()=>{const r="true"===o.getAttribute("aria-expanded")||!1;o.setAttribute("aria-expanded",!r),t.classList.toggle("is-open"),o.classList.toggle("btn-hide"),n.classList.toggle("btn-show");e[r?"enableBodyScroll":"disableBodyScroll"](document.body)};o.addEventListener("click",r),n.addEventListener("click",r),window.matchMedia("(min-width: 768px)").addEventListener("change",(r=>{r.matches&&(t.classList.remove("is-open"),o.setAttribute("aria-expanded",!1),o.classList.remove("btn-hide"),n.classList.remove("btn-show"),e.enableBodyScroll(document.body))}))})();var a;a=new URL(i("kyEFX").resolve("g9ud9"),import.meta.url).toString();var s;s=new URL(i("kyEFX").resolve("eLWfi"),import.meta.url).toString();var l;l=new URL(i("kyEFX").resolve("4jKaw"),import.meta.url).toString();var c;c=new URL(i("kyEFX").resolve("9Em6e"),import.meta.url).toString();var d;d=new URL(i("kyEFX").resolve("hAhNs"),import.meta.url).toString();var u;u=new URL(i("kyEFX").resolve("CKyTN"),import.meta.url).toString();var m;m=new URL(i("kyEFX").resolve("bjC9v"),import.meta.url).toString();var g;g=new URL(i("kyEFX").resolve("lwTNu"),import.meta.url).toString();var p;p=new URL(i("kyEFX").resolve("ivLfd"),import.meta.url).toString();var v;v=new URL(i("kyEFX").resolve("b9kXz"),import.meta.url).toString();var f;f=new URL(i("kyEFX").resolve("3Zjjn"),import.meta.url).toString();var h;h=new URL(i("kyEFX").resolve("gqlkM"),import.meta.url).toString();var y;y=new URL(i("kyEFX").resolve("jPGK3"),import.meta.url).toString();var b;b=new URL(i("kyEFX").resolve("bbPFx"),import.meta.url).toString();var k;k=new URL(i("kyEFX").resolve("8o94G"),import.meta.url).toString();var w;w=new URL(i("kyEFX").resolve("89mmy"),import.meta.url).toString();var S;S=new URL(i("kyEFX").resolve("7CWKt"),import.meta.url).toString();const E=[{title:"Save the Children",url:"https://www.savethechildren.net/what-we-do/emergencies/ukraine-crisis",img:t(a),img2x:t(p)},{title:"Project HOPE",url:"https://www.projecthope.org/country/ukraine/",img:t(s),img2x:t(v)},{title:"UNITED24",url:"https://u24.gov.ua/uk",img:t(l),img2x:t(f)},{title:"International Medical Corps",url:"https://internationalmedicalcorps.org/country/ukraine/",img:t(g),img2x:t(w)},{title:"Medicins Sans Frontieres",url:"https://www.msf.org/ukraine",img:t(g),img2x:t(S)},{title:"RAZOM",url:"https://www.razomforukraine.org/",img:t(c),img2x:t(h)},{title:"Action against hunger",url:"https://www.actionagainsthunger.org/location/europe/ukraine/",img:t(d),img2x:t(y)},{title:"World vision",url:"https://www.wvi.org/emergencies/ukraine",img:t(u),img2x:t(b)},{title:"Serhiy Prytula Charity Foundation",url:"https://prytulafoundation.org/en",img:t(m),img2x:t(k)}],L=document.querySelector(".support-list-js"),_=E.map((({url:e,title:t,img:o,img2x:n},r)=>`<li class="support-item">\n    <span class="support-span">0${r+1}</span>\n    <a href="${e}" class="support-link"> <picture>\n          <img class="support-image"\n          src="${o}" alt="${t}" \n          height="32"\n          srcset="\n          ${o} 1x\n          ${n} 2x"/>\n        </picture>\n    </a>\n    </li> `)).join("");console.log(_),L.insertAdjacentHTML("afterbegin",_);const x=document.querySelector(".support-btn-js"),H=document.querySelector(".support-btn-top-js");x.addEventListener("click",(function(){L.scrollTo(0,300),x.style.display="none",H.style.display="flex"})),H.addEventListener("click",(function(){L.scroll(0,1),H.style.display="none",x.style.display="flex"}));var F,R=i("7rYDH");F=new URL(i("kyEFX").resolve("W29aZ"),import.meta.url).toString();var j;j=new URL(i("kyEFX").resolve("haIWG"),import.meta.url).toString();var $;$=new URL(i("kyEFX").resolve("ekMUd"),import.meta.url).toString();var A;A=new URL(i("kyEFX").resolve("g0EyN"),import.meta.url).toString();var T;T=new URL(i("kyEFX").resolve("3SFpC"),import.meta.url).toString();var q;q=new URL(i("kyEFX").resolve("60fzs"),import.meta.url).toString();var U;U=new URL(i("kyEFX").resolve("8SaHN"),import.meta.url).toString();const X=document.querySelector(".loader-backdrop"),I=document.body;function C(){X.classList.remove("is-hidden"),I.classList.add("loader-open")}function M(){X.classList.add("is-hidden"),I.classList.remove("loader-open")}var O=i("jQ7WT");const N=document.querySelector(".modal"),B=document.querySelector(".books-container-list"),W=document.querySelector(".backdrop"),P=document.querySelector("#no-scroll"),D=O.disableBodyScroll,z=O.enableBodyScroll;function G(e,t,o,n){if(!e.target.classList.contains("modal-add-btn"))return;let r=JSON.parse(localStorage.getItem("shopplist"))||[];r.push(n),localStorage.setItem("shopplist",JSON.stringify(r)),t.textContent="remove from the shopping list",t.classList.replace("modal-add-btn","modal-remove-btn"),o.classList.toggle("is-hidden");const i=document.querySelector(".modal-remove-btn");i.addEventListener("click",(e=>{K(e,i,o,n)}))}function K(e,t,o,n){if(!e.target.classList.contains("modal-remove-btn"))return;const r=e.target.closest(".modal-id").dataset.id;const i=(JSON.parse(localStorage.getItem("shopplist"))||[]).filter((e=>e._id!==r));localStorage.setItem("shopplist",JSON.stringify(i)),t.textContent="add to shopping list",t.classList.replace("modal-remove-btn","modal-add-btn"),o.classList.toggle("is-hidden"),t.addEventListener("click",(e=>{G(e,t,o,n)}))}function Y(){W.classList.add("is-hidden"),window.removeEventListener("keydown",J),z(P)}function J(e){"Escape"===e.code&&(Y(),window.removeEventListener("keydown",J),z(P))}B.addEventListener("click",(async function(e){if(e.preventDefault(),"IMG"!==e.target.nodeName)return;C();const o=e.target.id;let n=JSON.parse(localStorage.getItem("shopplist"))||[];try{const e=await(0,R.fetchBookId)(o);N.innerHTML=function(e){let{_id:o,author:n,title:r,book_image:i,description:a,buy_links:s}=e;return`\n  <button type="button" class="modal-close-btn dark-close-btn" data-modal-close>\n        <svg class="modal-close-png dark-close-png">\n          <use href="${t(U)}#x-close"></use>\n        </svg>\n      </button>\n  <div data-id=${o} class="modal-id dark-modal-id">\n  <div class="modal-card-item">\n   <img src="${i}" alt="${r}" class="modal-book-img dark-modal-book-img" />\n   <div class="">\n     <h2 class="modal-book-name dark-modal-book-name">${r}</h2>\n     <p class="modal-book-autor dark-modal-book-autor">${n}</p>\n     <p class="modal-book-info dark-modal-book-info">${a}</p>\n     <div class="modal-box-link dark-modal-box-link">\n       <a href="${s[0].url}" class="modal-link dark-modal-link" target="_blank">\n       <img class="modal-link-svg dark-modal-link-svg"\n       src="${t(F)}"\n       srcset="\n       ${t(F)} 1x,\n       ${t(j)} 2x"\n       alt="amazon"\n       width="62"\n       height="19"\n     />\n       </a>\n       <a href="${s[1].url}" class="modal-link dark-modal-link" target="_blank">\n       <img class="modal-link-svg dark-modal-link-svg"\n       src="${t($)}"\n       srcset="\n       ${t($)} 1x,\n       ${t(A)} 2x"\n       alt="apple-books"\n       width="33"\n       height="32"\n     />\n       </a>\n       <a href="${s[4].url}" target="_blank" class="modal-link dark-modal-link">\n       <img class="modal-link-svg dark-modal-link-svg"\n          src="${t(T)}"\n          srcset="\n          ${t(T)} 1x,\n          ${t(q)} 2x"\n          alt="bookshop"\n          width="38"\n          height="36"\n        />\n     </a>\n       </div>\n    </div>\n    </div>\n    <button type="button" class="modal-add-btn dark-modal-add-btn">add to shopping list</button>\n    <p class="modal-remove-text dark-modal-remove-text is-hidden">Сongratulations! You have added the book to the shopping list. To delete, press the button “Remove from the shopping list”.</p>\n    </div>\n       `}(e);document.querySelector(".modal-close-btn").addEventListener("click",Y),W.classList.remove("is-hidden"),window.addEventListener("keydown",J),D(P);const r=document.querySelector(".modal-add-btn"),i=document.querySelector(".modal-remove-text");if(n.some((e=>e._id===o))){r.textContent="remove from the shopping list",r.classList.replace("modal-add-btn","modal-remove-btn"),i.classList.toggle("is-hidden");const t=document.querySelector(".modal-remove-btn");t.addEventListener("click",(o=>{K(o,t,i,e)}))}else r.addEventListener("click",(t=>{G(t,r,i,e)}));M()}catch(e){console.error(e)}})),W.addEventListener("click",(function(e){e.target.classList.contains("backdrop")&&Y()}));R=i("7rYDH"),R=i("7rYDH");const Z=document.querySelector(".categories_list"),Q=document.querySelector(".books-container-list");let V,ee,te="";async function oe(e){C();try{const t=await(0,R.fetchSelectCategory)(e);ne(e),Q.innerHTML=function(e){let t=ie();return e.map((({_id:e,book_image:o,title:n,author:r})=>`<li class="book-card">\n  <a href="" class="book-card-thumb"\n    ><div class="thumb">\n    <img id="${e}" src="${o||t}" alt="${n}" class="books-image" onerror="handleImageError(this, ${t})" />\n    <div class="overlay"><p> quick view</p></div>\n    </div>\n    <p class="book-card-title">${n}</p>\n    <p class="book-card-author">${r}</p\n  ></a></li>`)).join("")}(t),M()}catch(e){console.error(e)}}function ne(e){V=document.querySelector(".title-color1"),ee=document.querySelector(".title-color2"),V.textContent=e.substring(0,re(e)),ee.textContent=e.substring(re(e))}function re(e){return e.lastIndexOf(" ")}function ie(){return window.matchMedia("(min-width: 1440px)").matches?"../img/default_images/default_img_desc.jpg":window.matchMedia("(min-width: 768px)").matches?"../img/default_images/default_img_table.jpg":"../img/default_images/default_img_mobile.jpg"}Z.addEventListener("click",(e=>{let t=document.querySelector(".chosen_category");if(e.target!==t&&e.target!==e.currentTarget){if("All Categories"===e.target.textContent)return le(),te=e.target.textContent,t.classList.remove("chosen_category"),e.target.classList.add("chosen_category"),ne("Best Sellers Books"),void(t=e.target);te=e.target.textContent,t.classList.remove("chosen_category"),e.target.classList.add("chosen_category"),t=e.target,oe(te)}}));R=i("7rYDH");const ae=document.querySelector(".categories_list");async function se(){try{const e=await(0,R.fetchCategoryList)();ae.insertAdjacentHTML("beforeend",e.map((({list_name:e})=>`<li class="js_category_list_element category_list_element" data="${e}">${e}</li>`)).join(""))}catch{console.error(error)}}async function le(){C();try{const e=await(0,R.fetchTopBooks)(),t=document.querySelector(".books-container-list");ne("Best Sellers Books"),t.innerHTML=e.map((({list_name:e,books:t})=>`<li class="top-books-ul">\n      <h2 class="top-books-category">${e}</h2>\n      <ul class="top-books-list">${function(e){let t=ie();return e.map((({_id:e,book_image:o,title:n,author:r})=>`<li class="top-book-card">\n  <a href="" class="book-card-thumb"\n    ><div class="thumb">\n    <img id="${e}" src="${o||t}" alt="${n}" class="books-image" onerror="handleImageError(this, ${t})" />\n    <div class="overlay"><p> quick view</p></div>\n    </div>\n    <p class="book-card-title">${n}</p>\n    <p class="book-card-author">${r}</p\n  ></a></li>`)).join("")}(t)}</ul>\n      ${function(e){return`\n      <div class="div-button">\n        <button data-list="${e}" href="" class="button-open-categories">SEE MORE</button>\n      </div>\n    `}(e)}\n        </li>\n        `)).join("");!function(e){e.forEach((e=>{e.addEventListener("click",(()=>{const t=e.getAttribute("data-list");oe(t);const o=document.querySelector(`[data="${t}"]`);document.querySelector(".chosen_category").classList.remove("chosen_category"),o.classList.add("chosen_category"),o.scrollIntoView({block:"center",behavior:"smooth"})}))}))}(document.querySelectorAll(".button-open-categories")),M()}catch(e){console.error(e)}}!async function(){C();try{const[]=await Promise.all([se(),le()]);M()}catch(e){console.error(e)}}(),document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelector(".toggle-button");let t=localStorage.getItem("dark-theme");null===t?localStorage.setItem("dark-theme","off"):"on"===t&&(e.checked=!0,document.body.classList.toggle("dark-theme")),e.addEventListener("click",(function(){document.body.classList.toggle("dark-theme"),"on"===t?(localStorage.setItem("dark-theme","off"),t="off"):(localStorage.setItem("dark-theme","on"),t="on")}))}));var ce,de=/^\s+|\s+$/g,ue=/^[-+]0x[0-9a-f]+$/i,me=/^0b[01]+$/i,ge=/^0o[0-7]+$/i,pe=parseInt,ve="object"==typeof o&&o&&o.Object===Object&&o,fe="object"==typeof self&&self&&self.Object===Object&&self,he=ve||fe||Function("return this")(),ye=Object.prototype.toString,be=Math.max,ke=Math.min,we=function(){return he.Date.now()};function Se(e,t,o){var n,r,i,a,s,l,c=0,d=!1,u=!1,m=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function g(t){var o=n,i=r;return n=r=void 0,c=t,a=e.apply(i,o)}function p(e){return c=e,s=setTimeout(f,t),d?g(e):a}function v(e){var o=e-l;return void 0===l||o>=t||o<0||u&&e-c>=i}function f(){var e=we();if(v(e))return h(e);s=setTimeout(f,function(e){var o=t-(e-l);return u?ke(o,i-(e-c)):o}(e))}function h(e){return s=void 0,m&&n?g(e):(n=r=void 0,a)}function y(){var e=we(),o=v(e);if(n=arguments,r=this,l=e,o){if(void 0===s)return p(l);if(u)return s=setTimeout(f,t),g(l)}return void 0===s&&(s=setTimeout(f,t)),a}return t=Le(t)||0,Ee(o)&&(d=!!o.leading,i=(u="maxWait"in o)?be(Le(o.maxWait)||0,t):i,m="trailing"in o?!!o.trailing:m),y.cancel=function(){void 0!==s&&clearTimeout(s),c=0,n=l=r=s=void 0},y.flush=function(){return void 0===s?a:h(we())},y}function Ee(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Le(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==ye.call(e)}(e))return NaN;if(Ee(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Ee(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(de,"");var o=me.test(e);return o||ge.test(e)?pe(e.slice(2),o?2:8):ue.test(e)?NaN:+e}ce=function(e,t,o){var n=!0,r=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return Ee(o)&&(n="leading"in o?!!o.leading:n,r="trailing"in o?!!o.trailing:r),Se(e,t,{leading:n,maxWait:t,trailing:r})};const _e=document.querySelector(".scroll-up");_e.addEventListener("click",(()=>window.scrollTo({top:0,left:0,behavior:"smooth"}))),document.addEventListener("scroll",t(ce)((function(){let e=document.documentElement,t=e.scrollTop,o=e.scrollHeight-e.clientHeight;t/o>.05?_e.classList.add("showButton"):_e.classList.remove("showButton")}),1e3));
//# sourceMappingURL=index.b04f9db3.js.map
